{"version":3,"file":"commonHelpers2.js","sources":["../src/js/content-shopping.js"],"sourcesContent":["\nconst KEY_LOCAL_STORAGE = \"localCard\";//сюди треба ключ з вебсховища(який буде в модалці створений)\nconst shopEl = document.querySelector(\".js-shopping-list\");\nconst readyCard = parseStorage(KEY_LOCAL_STORAGE);\n\nif (readyCard[0] !== undefined) {\n  shopEl.innerHTML = \"\";\n  shopEl.insertAdjacentHTML(\"afterbegin\", funCreateCard(readyCard));\n  const btnDelEl = document.querySelector(\".btnDelet\");\n  shopEl.addEventListener(\"click\", deleteCadr);\n} else {\n  funcCreateEmpty();\n}\nshopEl.insertAdjacentHTML(\"afterbegin\",`<svg class=\"shopping-list-card-icon-trash\" width=\"12px\" height=\"12px\">\n<use href=\"${logo}#icon-del\"></use>\n</svg>`);\nfunction deleteCadr(e) {\n  if (e.target.nodeName === \"BUTTON\" || e.target.nodeName === \"svg\" ) {\n  shopEl.innerHTML = \"\";\n  readyCard.splice(e.target.id, 1);\n  localStorage.removeItem(KEY_LOCAL_STORAGE);\n\n  setStorage(KEY_LOCAL_STORAGE, readyCard);\n  if (readyCard[0] !== undefined) {\n    shopEl.insertAdjacentHTML(\n      \"afterbegin\",\n      funCreateCard(parseStorage(KEY_LOCAL_STORAGE))\n    );\n\n  } else {\n    funcCreateEmpty();\n  }\n}\nelse{\n    return;\n}\n}\n\nfunction funCreateCard(readyCard) {\n  return readyCard\n    .map(({ sebel }, index) => {\n      return `<li class=\"shopping-list-item\">\n      <img class=\"shopping-list-card-img\" src=\"https://storage.googleapis.com/du-prd/books/images/9780670785933.jpg\" alt=\"book\">\n      <div class=\"shopping-list-card-container\">\n        <h2 class=\"shopping-list-card-title\">I will find you</h2>\n        <p class=\"shopping-list-card-text\">Hardcover fiction</p>\n        <p class=\"shopping-list-card-desc\">\n          David Burroughs was once a devoted father to his three-year-old son Matthew, living a dream life just a short\n          drive away\n          from the working-class suburb where he and his wife, Cheryl, first fell in love--until one fateful night when\n          David woke\n          suddenly to discover Matthew had been murdered while David was asleep just down the hall.\n          ${sebel}\n        </p>\n        <div class=\"shopping-list-card-bottom-container\">\n          <p class=\"shopping-list-card-author\">Harlan Coben</p>\n          <div class=\"shopping-list-card-container-img\">\n            <a href=\"\">\n              <img class=\"shopping-list-card-icon-amazon\" src=\"\" alt=\"amazon-icon\">\n              <img class=\"shopping-list-card-icon-book\" src=\"\" alt=\"book-icon\">\n            </a>\n          </div>\n        </div>\n        <div class=\"shopping-list-card-container-trash\">\n          <button class=\"btn-shop\" id=\"${index}\">\n            <svg class=\"shopping-list-card-icon-trash\" width=\"12px\" height=\"12px\">\n              <use href=\"./images/icons.svg#icon-del\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </li>\n  `;\n    })\n    .join(\"\");\n}\nfunction funcCreateEmpty() {\n  shopEl.insertAdjacentHTML(\n    \"afterend\",\n    `\n    <div class=\"shopping-list-container\">\n    <p class=\"shopping-list-text\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img\n      class=\"shopping-list-image\"\n      srcset=\"\n        ./images/shopping-list-images/books-desk@1x.png 1x,\n        ./images/shopping-list-images/books-desk@2x.png 2x\n      \"\n      src=\"./images/shopping-list-images/books-mob@1x.png\"\n      alt=\"books\"\n      width=\"265\"\n      height=\"198\"\n    />\n  </div>\n    `\n  );\n}\nfunction setStorage(key, readyCard) {\n  try {\n    const stringFlag = JSON.stringify(readyCard);\n    localStorage.setItem(key, stringFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}\n\nfunction parseStorage(key) {\n  try {\n    const parseFlag = localStorage.getItem(key);\n    return parseFlag === null ? undefined : JSON.parse(parseFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}\n"],"names":["KEY_LOCAL_STORAGE","shopEl","readyCard","parseStorage","funCreateCard","deleteCadr","funcCreateEmpty","setStorage","sebel","index","key","stringFlag","error","parseFlag"],"mappings":"6CACA,MAAMA,EAAoB,YACpBC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAYC,EAAaH,CAAiB,EAE5CE,EAAU,KAAO,QACnBD,EAAO,UAAY,GACnBA,EAAO,mBAAmB,aAAcG,EAAcF,CAAS,CAAC,EAC/C,SAAS,cAAc,WAAW,EACnDD,EAAO,iBAAiB,QAASI,CAAU,GAE3CC,IAEFL,EAAO,mBAAmB,aAAa;AAAA,aAC1B;AAAA,OACN,EACP,SAASI,EAAW,EAAG,CACrB,GAAI,EAAE,OAAO,WAAa,UAAY,EAAE,OAAO,WAAa,MAC5DJ,EAAO,UAAY,GACnBC,EAAU,OAAO,EAAE,OAAO,GAAI,CAAC,EAC/B,aAAa,WAAWF,CAAiB,EAEzCO,EAAWP,EAAmBE,CAAS,EACnCA,EAAU,KAAO,OACnBD,EAAO,mBACL,aACAG,EAAcD,EAAaH,CAAiB,CAAC,CACnD,EAGIM,QAIA,OAEJ,CAEA,SAASF,EAAcF,EAAW,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAE,MAAAM,CAAO,EAAEC,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAY6BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASpC,EACA,KAAK,EAAE,CACZ,CACA,SAASH,GAAkB,CACzBL,EAAO,mBACL,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAkBJ,CACA,CACA,SAASM,EAAWG,EAAKR,EAAW,CAClC,GAAI,CACF,MAAMS,EAAa,KAAK,UAAUT,CAAS,EAC3C,aAAa,QAAQQ,EAAKC,CAAU,CACrC,OAAQC,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH,CAEA,SAAST,EAAaO,EAAK,CACzB,GAAI,CACF,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAOG,IAAc,KAAO,OAAY,KAAK,MAAMA,CAAS,CAC7D,OAAQD,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH"}