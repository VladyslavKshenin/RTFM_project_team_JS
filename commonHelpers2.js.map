{"version":3,"file":"commonHelpers2.js","sources":["../src/images/shopping-list-images/books-desk@1x.png","../src/images/shopping-list-images/books-desk@2x.png","../src/images/shopping-list-images/books-mob@1x.png","../src/js/content-shopping.js"],"sourcesContent":["export default \"__VITE_ASSET__f2a4d66a__\"","export default \"__VITE_ASSET__3f0fb6db__\"","export default \"__VITE_ASSET__5ab7f1cd__\"","import logo from \"./../images/icons.svg\"\nimport emptyDesk1 from './../images/shopping-list-images/books-desk@1x.png';\nimport emptyDesk2 from './../images/shopping-list-images/books-desk@2x.png';\nimport emptyMob1 from './../images/shopping-list-images/books-mob@1x.png';\nimport amazon from '../images/modal-window/amazon.png';\nimport amazon2x from '../images/modal-window/amazon@2x.png';\nimport applebooks from '../images/modal-window/applebooks.png';\nimport applebooks2x from '../images/modal-window/applebooks@2x.png';\n\nconst KEY_LOCAL_STORAGE = \"shoppingCard\";//сюди треба ключ з вебсховища(який буде в модалці створений)\nconst KEY_LOCAL_STORAGE_ID = \"shoppingList\";\nconst shopEl = document.querySelector(\".js-shopping-list\");\nconst shopContainerEl = document.querySelector('.shopping-list-container');\nconst descEmpty = \"The daughter of a Korean mother and Jewish American father, and leader of the indie rock project Japanese Breakfast, describes creating her own identity after losing her mother to cancer.\";\nconst readyCard = parseStorage(KEY_LOCAL_STORAGE);\nconst numberCard = parseStorage(KEY_LOCAL_STORAGE_ID);\nif (readyCard[0] !== undefined) {\n  shopContainerEl.innerHTML=\"\";\n  shopEl.innerHTML=\"\";\n  shopEl.insertAdjacentHTML(\"afterbegin\", funCreateCard(readyCard));\n  shopEl.addEventListener(\"click\", deleteCadr);\n} else {\n  funcCreateEmpty();\n}\nfunction deleteCadr(e) {\n  //e.target.nodeName === \"BUTTON\" || e.target.nodeName === \"svg\" || e.target.nodeName === \"use\" \n  let parent = e.target.closest('.btn-shop');\n  if (parent) {\n  shopEl.innerHTML =\"\";\n  readyCard.splice(parent.id, 1);\n  numberCard.splice(parent.id,1);\n  localStorage.removeItem(KEY_LOCAL_STORAGE);\n  localStorage.removeItem(KEY_LOCAL_STORAGE_ID);\n\n  setStorage(KEY_LOCAL_STORAGE, readyCard);\n  setStorage(KEY_LOCAL_STORAGE_ID,numberCard);\n  if (readyCard[0] !== undefined) {\n    shopEl.insertAdjacentHTML(\n      \"afterbegin\",\n      funCreateCard(parseStorage(KEY_LOCAL_STORAGE))\n    );\n\n  } else {\n    funcCreateEmpty();\n  }\n}\nelse{\n    return;\n}\n}\nfunction funCreateCard(readyCard) {\n  return readyCard\n    .map(({  book_image,title,author,description,amazonLinks, appleLinks }, index) => {\n      if(!description){\n        description=descEmpty;\n      }\n      return `<li class=\"shopping-list-item\">\n      <img class=\"shopping-list-card-img\" src=\"${book_image}\" alt=\"${title}\">\n      <div class=\"shopping-list-card-container\">\n        <h2 class=\"shopping-list-card-title\">${title}</h2>\n        <p class=\"shopping-list-card-text\">Hardcover fiction</p>\n        <p class=\"shopping-list-card-desc\">${description}</p>\n        <div class=\"shopping-list-card-bottom-container\">\n          <p class=\"shopping-list-card-author\">${author}</p>\n          <div class=\"shopping-list-card-container-img\">\n            <a href=\"${amazonLinks}\" class=\"shopping-amazon-link\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n              <img class=\"shopping-list-card-icon-amazon\"srcset=\"${amazon} 1x, ${amazon2x} 2x\" src=\"${amazon}\" alt=\"Amazon\" loading=\"lazy\">\n            </a>\n            <a href=\"${appleLinks}\" class=\"shopping-book-link\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n              <img class=\"shopping-list-card-icon-book\" srcset=\"${applebooks} 1x, ${applebooks2x} 2x\" src=\"${applebooks}\" alt=\"Apple books\" loading=\"lazy\">\n            </a>\n          </div>\n        </div>\n        <div>\n          <button class=\"btn-shop shopping-list-card-container-trash\" id=\"${index}\">\n            <svg class=\"shopping-list-card-icon-trash\" width=\"18px\" height=\"18px\">\n              <use href=\"${logo}#icon-del\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </li>\n  `;\n    })\n    .join(\"\");\n}\nfunction funcCreateEmpty() {\n  shopContainerEl.innerHTML=\"\";\n  shopContainerEl.insertAdjacentHTML(\n    \"afterbegin\",\n    `\n    <p class=\"shopping-list-text\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img\n      class=\"shopping-list-image\"\n      srcset=\"\n        ${emptyDesk1} 1x,\n        ${emptyDesk2} 2x\n      \"\n      src=\"${emptyMob1}\"\n      alt=\"books\"\n      width=\"265\"\n      height=\"198\"\n    />\n    `\n  );\n}\nfunction setStorage(key, readyCard) {\n  try {\n    const stringFlag = JSON.stringify(readyCard);\n    localStorage.setItem(key, stringFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}\n\nfunction parseStorage(key) {\n  try {\n    const parseFlag = localStorage.getItem(key);\n    return parseFlag === null ? undefined : JSON.parse(parseFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}\n"],"names":["emptyDesk1","emptyDesk2","emptyMob1","KEY_LOCAL_STORAGE","KEY_LOCAL_STORAGE_ID","shopEl","shopContainerEl","descEmpty","readyCard","parseStorage","numberCard","funCreateCard","deleteCadr","funcCreateEmpty","e","parent","setStorage","book_image","title","author","description","amazonLinks","appleLinks","index","amazon","amazon2x","applebooks","applebooks2x","logo","key","stringFlag","error","parseFlag"],"mappings":"mFAAA,MAAeA,EAAA,0DCAAC,EAAA,0DCAAC,EAAA,yDCSTC,EAAoB,eACpBC,EAAuB,eACvBC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAkB,SAAS,cAAc,0BAA0B,EACnEC,EAAY,8LACZC,EAAYC,EAAaN,CAAiB,EAC1CO,EAAaD,EAAaL,CAAoB,EAChDI,EAAU,KAAO,QACnBF,EAAgB,UAAU,GAC1BD,EAAO,UAAU,GACjBA,EAAO,mBAAmB,aAAcM,EAAcH,CAAS,CAAC,EAChEH,EAAO,iBAAiB,QAASO,CAAU,GAE3CC,IAEF,SAASD,EAAWE,EAAG,CAErB,IAAIC,EAASD,EAAE,OAAO,QAAQ,WAAW,EACzC,GAAIC,EACJV,EAAO,UAAW,GAClBG,EAAU,OAAOO,EAAO,GAAI,CAAC,EAC7BL,EAAW,OAAOK,EAAO,GAAG,CAAC,EAC7B,aAAa,WAAWZ,CAAiB,EACzC,aAAa,WAAWC,CAAoB,EAE5CY,EAAWb,EAAmBK,CAAS,EACvCQ,EAAWZ,EAAqBM,CAAU,EACtCF,EAAU,KAAO,OACnBH,EAAO,mBACL,aACAM,EAAcF,EAAaN,CAAiB,CAAC,CACnD,EAGIU,QAIA,OAEJ,CACA,SAASF,EAAcH,EAAW,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAG,WAAAS,EAAW,MAAAC,EAAM,OAAAC,EAAO,YAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAY,EAAEC,KAClEH,IACFA,EAAYb,GAEP;AAAA,iDACoCU,WAAoBC;AAAA;AAAA,+CAEtBA;AAAA;AAAA,6CAEFE;AAAA;AAAA,iDAEID;AAAA;AAAA,uBAE1BE;AAAA,mEAC4CG,SAAcC,cAAqBD;AAAA;AAAA,uBAE/EF;AAAA,kEAC2CI,SAAkBC,cAAyBD;AAAA;AAAA;AAAA;AAAA;AAAA,4EAKjCH;AAAA;AAAA,2BAEjDK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOtB,EACA,KAAK,EAAE,CACZ,CACA,SAASf,GAAkB,CACzBP,EAAgB,UAAU,GAC1BA,EAAgB,mBACd,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOMN;AAAA,UACAC;AAAA;AAAA,aAEGC;AAAA;AAAA;AAAA;AAAA;AAAA,KAMb,CACA,CACA,SAASc,EAAWa,EAAKrB,EAAW,CAClC,GAAI,CACF,MAAMsB,EAAa,KAAK,UAAUtB,CAAS,EAC3C,aAAa,QAAQqB,EAAKC,CAAU,CACrC,OAAQC,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH,CAEA,SAAStB,EAAaoB,EAAK,CACzB,GAAI,CACF,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAOG,IAAc,KAAO,OAAY,KAAK,MAAMA,CAAS,CAC7D,OAAQD,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH"}