import{g as d,m as a}from"./assets/support-sidebar-19355af1.js";const i="https://books-backend.p.goit.global/books",f={list:"category-list",top:"top-books",category:"category?category="};async function h(o,t=""){try{const e=await fetch(`${i}/${o}${t}`),g=await e.json();return console.log(`data retrieving was succesfull: ${e.status} - ${e.statusText}`),g}catch(e){console.log(`An error occurred: ${e.message}`)}}async function u(o){try{const t=await fetch(`${i}/${o}`),e=await t.json();return console.log(`data retrieving was succesfull: ${t.status} - ${t.statusText}`),e}catch(t){console.log(`An error occurred: ${t.message}`)}}const s={API_OPTIONS:f,fetchBookList:h,fetchBookById:u},k=document.querySelector(".ctg-list");s.fetchBookList(s.API_OPTIONS.list).then(o=>{const t=o.map(({list_name:e})=>`<li class="ctg-item js-ctg-item " data-ctg-name = ${e}>${e}
          </li>`).join("");k.insertAdjacentHTML("beforeend",t)});const c=d();s.fetchBookList(s.API_OPTIONS.top).then(a.renderTopBooks);function l(o){[...c.ctgList.children].forEach(t=>t.classList.remove("ctg-item-active")),c.ctgList.contains(o.target)?o.target.classList.add("ctg-item-active"):[...c.ctgList.children].find(e=>e.textContent.trim()===o.target.dataset.category).classList.add("ctg-item-active")}function p(o){const t=o.target.childNodes[0].data;l(o),t!=="All categories"?s.fetchBookList(s.API_OPTIONS.category,t).then(a.renderCategoryBooks):s.fetchBookList(s.API_OPTIONS.top).then(a.renderTopBooks)}function m(o){if(!o.target.classList.contains("top-books-button"))return;const t=o.target.dataset.category;l(o),s.fetchBookList(s.API_OPTIONS.category,t).then(a.renderCategoryBooks)}c.ctgList.addEventListener("click",p);c.bookCollectionWrapper.addEventListener("click",m);const r=document.querySelector(".back-to-top");console.log(n);window.addEventListener("scroll",y);r.addEventListener("click",n);function y(){const o=window.pageYOffset,t=document.documentElement.clientHeight;o>t?r.classList.add("back-to-top--show"):r.classList.remove("back-to-top--show")}function n(){window.pageYOffset>0&&(window.scrollBy(0,-25),setTimeout(n,0))}
//# sourceMappingURL=commonHelpers.js.map
