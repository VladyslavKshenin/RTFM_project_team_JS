import{g,m as a}from"./assets/support-sidebar-19355af1.js";const r="https://books-backend.p.goit.global/books",l={list:"category-list",top:"top-books",category:"category?category="};async function d(o,t=""){try{const e=await fetch(`${r}/${o}${t}`),i=await e.json();return console.log(`data retrieving was succesfull: ${e.status} - ${e.statusText}`),i}catch(e){console.log(`An error occurred: ${e.message}`)}}async function h(o){try{const t=await fetch(`${r}/${o}`),e=await t.json();return console.log(`data retrieving was succesfull: ${t.status} - ${t.statusText}`),e}catch(t){console.log(`An error occurred: ${t.message}`)}}const s={API_OPTIONS:l,fetchBookList:d,fetchBookById:h},f=document.querySelector(".ctg-list");s.fetchBookList(s.API_OPTIONS.list).then(o=>{const t=o.map(({list_name:e})=>`<li class="ctg-item js-ctg-item " data-ctg-name = ${e}>${e}
          </li>`).join("");f.insertAdjacentHTML("beforeend",t)});const c=g();s.fetchBookList(s.API_OPTIONS.top).then(a.renderTopBooks);function n(o){[...c.ctgList.children].forEach(t=>t.classList.remove("ctg-item-active")),c.ctgList.contains(o.target)?o.target.classList.add("ctg-item-active"):[...c.ctgList.children].find(e=>e.textContent.trim()===o.target.dataset.category).classList.add("ctg-item-active")}function k(o){const t=o.target.childNodes[0].data;n(o),t!=="All categories"?s.fetchBookList(s.API_OPTIONS.category,t).then(a.renderCategoryBooks):s.fetchBookList(s.API_OPTIONS.top).then(a.renderTopBooks)}function u(o){if(!o.target.classList.contains("top-books-button"))return;const t=o.target.dataset.category;n(o),s.fetchBookList(s.API_OPTIONS.category,t).then(a.renderCategoryBooks)}c.ctgList.addEventListener("click",k);c.bookCollectionWrapper.addEventListener("click",u);
//# sourceMappingURL=commonHelpers.js.map
