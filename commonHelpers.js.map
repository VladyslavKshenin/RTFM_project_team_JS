{"version":3,"file":"commonHelpers.js","sources":["../src/js/books-api.js","../src/js/category-sidebar.js","../src/js/content-home.js","../src/images/modal-window/amazon.png","../src/images/modal-window/amazon@2x.png","../src/images/modal-window/applebooks.png","../src/images/modal-window/applebooks@2x.png","../src/js/modal-window.js","../src/js/scroll-up.js"],"sourcesContent":["const BASE_URL = 'https://books-backend.p.goit.global/books';\n\nconst API_OPTIONS = {\n  list: 'category-list',\n  top: 'top-books',\n  category: 'category?category=',\n};\n\nasync function fetchBookList(option, select = '') {\n  try {\n    const response = await fetch(`${BASE_URL}/${option}${select}`);\n    const list = await response.json();\n    console.log(\n      `data retrieving was succesfull: ${response.status} - ${response.statusText}`\n    );\n    return list;\n  } catch (error) {\n    console.log(`An error occurred: ${error.message}`);\n    alert('An error occurred');\n  }\n}\n\nasync function fetchBookById(bookId) {\n  try {\n    const response = await fetch(`${BASE_URL}/${bookId}`);\n    const book = await response.json();\n    console.log(\n      `data retrieving was succesfull: ${response.status} - ${response.statusText}`\n    );\n    return book;\n  } catch (error) {\n    console.log(`An error occurred: ${error.message}`);\n    alert('An error occurred');\n  }\n}\n\nexport default { API_OPTIONS, fetchBookList, fetchBookById };\n","import api from './books-api';\n\nconst ctgList = document.querySelector('.ctg-list');\n\napi.fetchBookList(api.API_OPTIONS.list).then(response => {\n  const markup = response\n    .map(\n      ({\n        list_name,\n      }) => `<li class=\"ctg-item js-ctg-item \" data-ctg-name = ${list_name}>${list_name}\n          </li>`\n    )\n    .join('');\n\n  ctgList.insertAdjacentHTML('beforeend', markup);\n});\n","import api from './books-api';\nimport markup from './markup';\nimport getRefs from './refs';\n\nconst refs = getRefs();\n\napi.fetchBookList(api.API_OPTIONS.top).then(markup.renderTopBooks);\n\nfunction highlightMenuActiveCategory(event) {\n  [...refs.ctgList.children].forEach(li =>\n    li.classList.remove('ctg-item-active')\n  );\n  if (refs.ctgList.contains(event.target)) {\n    event.target.classList.add('ctg-item-active');\n  } else {\n    const match = [...refs.ctgList.children].find(\n      li => li.textContent.trim() === event.target.dataset.category\n    );\n    match.classList.add('ctg-item-active');\n  }\n}\n\nfunction showSelectedCategoryBooks(event) {\n  const selectedCategory = event.target.childNodes[0].data;\n  highlightMenuActiveCategory(event);\n  if (selectedCategory !== 'All categories') {\n    api\n      .fetchBookList(api.API_OPTIONS.category, selectedCategory)\n      .then(markup.renderCategoryBooks);\n  } else {\n    api.fetchBookList(api.API_OPTIONS.top).then(markup.renderTopBooks);\n  }\n}\n\nfunction showMoreCategoryBooks(event) {\n  if (!event.target.classList.contains('top-books-button')) {\n    return;\n  }\n  const category = event.target.dataset.category;\n  highlightMenuActiveCategory(event);\n  api\n    .fetchBookList(api.API_OPTIONS.category, category)\n    .then(markup.renderCategoryBooks);\n}\n\nrefs.ctgList.addEventListener('click', showSelectedCategoryBooks);\nrefs.bookCollectionWrapper.addEventListener('click', showMoreCategoryBooks);\n","export default \"data:image/png;base64,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\"","export default \"__VITE_ASSET__b9f5e0c4__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABACAYAAACunKHjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdKSURBVHgB7VtpjBRFFP5ez+zswLIKgsCynngEUTxjUIOsisb4Q+ORAPoHQdRE5JeKyB8xJkZRQYJR+AGIEIk3kfiHoKIcSgAl0SiE+9hFkDNml2Vnup6v59jtOaq6p7cHd8h8Se10d1W/evXVq1evqnqBKqqooooqPEEIAP4MMbRGm+T1h1jx5SJlqDy+QFIfSVFJEZQXCowOqbdVrv92EhPttRR/hfrkGhoreSWiZCJ4Yc2TDLwgl9el3mYPqbp8P++5y5HrGYo875Lxh2K8HRma+ITuRhI+4ZsIXoghTNH5YHoQFQH6uq2947k+U1IW413aTyFehIvZrlklpYehkkDYQdHEvTQB+72LeoCX4Txur1kpljAaFQleQ82J+2imeZhY8MLp2qehhARnHFZkorvQGJsJDxgtonUBGnpRbLdcxlHZOEWR6HB6qq1FV8BoEXGr9lFhNC4JQRIHfK8M6Xwk7CdMbTUPDRuTWMwrm+C61j2Hj/LdSfD5LD/ZLNGFAdqhwYsRV+3xVvjxI5UBZVnt9fQs2oplRnVvtZ+uHRI7d0hwIG2pbQDO7NJkFkcc1BjMS8sfpeRCaCQn4u4FJOVecemynHccUY4MR5aSfrNVxt5L1y1p00W69motAmz1TQ9AF3ShMTIE9B0GukqGYuOdoH5XiHRpANvg1sNAywbwtuXA4Q0ixzBZUYaAhlEiaxww5DbhYLA8d0hoB5/YCRxcB97xKXDiL+lKy1u3DBTbfXV5WiJs5l4F6harSAigASNB98wFBt6AYqB4f6D/cNCIycCxbVCrnN8tRQmhfjeBHlgqpA4tLqu3kNIoJI2cDhzZKuHSi+Aj6+EnSI5wRBsG6H0Ac9TP1ESjPwCNX6MloQD9h8Ea/xPomim5ssTiacQ00NjvtCQUYOCNUn416K75jgV76mo7bSqZCCfPY8zRza+Arp+IkkEWaMw7wKDRXbIamkC3yaI2UnrsRtdNAN0yw9NHxAyt1WfZkTxBlHufUKAbJqM7sJredCa1VG/SHa+JpvUIChoxMaVTgZ7ue6XfJokapXP+uHPdO97ccYbdwcDrgQE3IqVlw63oFmp6dzUYGr0NbsSDCEOWh4f2B/ExF1ydFkbezs4TnUSUjhItwmdeKYjUp3QPRVrWMepg61nSE2HryU1V1Q323WCKIiywM1wzOrl39jrVDDY0Ilr7584/YYDCGmc5FpGVmCM5kEUoeFSKcBAqoR7yyuMsQ/IRHvWULIcNsbahc40+ApbJWSIclIVQMuQVh9kilJ9KQ0CYFmHSmQIFVBGz1LB6MkxCU5ZAgSrz9hG6Sb4nWoRr+iyKQM7S8RHZaK/o8jtMiwjLT5QjoHLAAfNKQdiWVRaLsNwS3GOEe66z5CK6duZ3Y/XZJdJNJ/VMZ1l09UlFL/NhJCIb+bKu0jAQohwuX2R5FgKqMGUps6XagaZPj7UGh9mTCAleFmHrswwW4XG20yN9hFdApW9TuCG2mAkf3yfnDpvBJ1tS5xDOeQT17gdcKlv+g4fDN2RzgQ9vT8v69x95kBRZtaDz5bDq8ttBfS9GyTobvuwyT585yFvV5RHBv38DteVj8B45Y1BnUjvVXZmc6i266BZYY2bIwU2TK69wtcjbvodaOxu87+dM1Ey5spwtvstGwRr1POjqe7rqym7U+m5TFwJv3hKlN1T46G6oL6aCD2x0rVYjeQpResZt/hX2kkdl630SIg++LrXnbd2rpBz+vAG17r30AqmzgYU68N71sPesBV0qhDw8G1R/oSuO0CDQMhxkdpfRGtgfjRPz3SZMt+Uu2d3xTIFYOS7Zslg6J4nII3Ny5n17xUuSt0Rk+fw60ZG1fwPsuXIs2Hiz6GTuV9vUHEMtSS9Hxs2/ZcsWyTS9KYHapmVQA4Yhu1WnNi4Fb14mJEQDOdC0LpbXu9rvqPRuVPFpr5OjbiUZWmr9h3JKL9bU0Qb1w+y0LyhnnbDadc3VWkRE0clc+ty9zprnMJThwt8TB+Skf5OcUHUApw5mhlf+GoE09TGKf5EK7b2chp+EBvoPRZia9ePGTwzRVSbj5/OeU3oYHNudubWKOsXCaxTK0ZbLvY/b1kFooG1r/EzsUCLW4TjMUL6aCTNuMqFwMs4qII6orq7Z9J4WiemDfpG4ZiTOCfDW2KwjN+lyPb6qo89xroBokSnbSETH6eRyMahTZfXkZyERoz3B9pcISkTd+0dbJBqbF8IHn/9rshW/WjfraEtgIhzERh6eKT9rKskCchOtrY0mFsADfuZB8MsNlySSWC2Cr0JlYbtNuL/Xu4f2eRX0NTXSW4f2i78YLQSvQGXAWaN+m+COMX5IcODLIjqlP4Mau8/gxxXTNLm9Fj0PLJ7xT4utOdE5LQtLebEkIrLYMfXK2suirU3M1mOyXHL+uW2wBRoki/I6EVnDztdhHEx2HgpiI0ptrKdWxgm5amPi43K9i5j2SN7KaLL3jzRv5xlUUUUVVVQRPv4DulBShVeyTHYAAAAASUVORK5CYII=\"","import icon from '../images/icons.svg';\nimport amazon from '../images/modal-window/amazon.png';\nimport amazon2x from '../images/modal-window/amazon@2x.png';\nimport applebooks from '../images/modal-window/applebooks.png';\nimport applebooks2x from '../images/modal-window/applebooks@2x.png';\nimport booksApi from './books-api';\n\nconst KEY_LOCAL_STORAGE = 'shoppingList';\nconst bookCollectionWrapper = document.querySelector(\".book-collection-wrapper\");\nlet backdrop;\nlet modalWrapper;\nlet addBtn;\n\nbookCollectionWrapper.addEventListener('click', async (event) => {\n    // Перевіряємо, чи клікнуто на .book-link або на його дочірніх елементах\n    const bookElement = event.target.closest('.book-link');\n\n    if (bookElement) {\n        event.preventDefault();\n        const bookId = bookElement.dataset.id;\n        // потрібен датасет (дописала локально у markup.js (строка 11 та 43) після href=\"\" data-id=\"${book._id}\">)\n        try {\n            const book = await booksApi.fetchBookById(bookId);\n            markupModalWindow(book);\n        } catch (error) {\n            console.error('Error fetching book details:', error);\n        }\n    }\n});\n\nfunction markupModalWindow(book) {\n    //console.log('Opening modal with book details:', book);\n    // елементи для темного фону та модального вікна\n    backdrop = document.createElement('div');\n    modalWrapper = document.createElement('div');\n    // Додала класи та стилі\n    backdrop.classList.add('backdrop', 'visually-hidden');\n    modalWrapper.classList.add('modal-wrapper', 'visually-hidden');\n\n    modalWrapper.innerHTML= \n        `<div class=\"book-modal\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-modal-img\"/>\n            <div class=\"book-modal-details\">\n                <h2 class=\"book-modal-title\">${book.title}</h2>\n                <h3 class=\"book-modal-author\">${book.author}</h3>\n                <p class=\"book-modal-desc\">${book.description}</p>\n                <ul class=\"icon-book-modal-list\">\n                    <li>\n                        <a href=\"${book.buy_links[0].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-amazon\" srcset=\"${amazon} 1x, ${amazon2x} 2x\" src=\"${amazon}\" alt=\"Amazon\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                    <li>\n                        <a href=\"${book.buy_links[1].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-ibooks\" srcset=\"${applebooks} 1x, ${applebooks2x} 2x\" src=\"${applebooks}\" alt=\"Apple books\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <button class='book-modal-btn js-add' id='js-book-modal-btn'>Add to shopping list</button>\n            <p class='book-modal-buy'>Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n            <button class='book-modal-close' id='js-book-modal-btn-close'>\n                <svg class='icon-book-modal-close'><use href='${icon}#x-close'></use></svg>\n            </button>\n        </div>`;\n        // Вставляємо створені елементи в тіло документу\n        document.body.appendChild(backdrop);\n        document.body.appendChild(modalWrapper);\n        // Перевірте, чи вже існує екземпляр lightbox\n        backdrop.classList.remove('visually-hidden');\n        modalWrapper.classList.remove('visually-hidden');\n        //Oбробник для закриття модального вікна\n        const closeBtn = document.querySelector('#js-book-modal-btn-close');\n        console.log('вбийте мене', closeBtn)\n        if (closeBtn) {\n            closeBtn.addEventListener('click', () => {\n                closeModaWindow();\n            });\n        }\n\n        addBtn = document.querySelector('#js-book-modal-btn');\n        console.log('це капець', addBtn);\n        if (addBtn) {\n            addBtn.addEventListener('click', () => {\n                //toggleShoppingList(book);\n            });\n        }\n\n        toggleScrollLock(true); // блокування прокрутки\n\n        document.addEventListener('keydown', handleKeyPress);\n        backdrop.addEventListener('click', handleBackdropClick);\n}\n\nfunction toggleScrollLock(lock) {\n    if (lock) {\n        document.body.classList.add('modal-open');\n    } else {\n        document.body.classList.remove('modal-open');\n    }\n}\n// Oбробник для кнопки Add to shopping list     \nfunction handleKeyPress(event) {\n    if (event.key === 'Escape') {\n        closeModaWindow();\n    }\n}\n    \nfunction handleBackdropClick(event) {\n    if (event.target === backdrop) {\n            closeModaWindow();\n    }\n}\n    \nfunction closeModaWindow() {\n    backdrop.classList.add('visually-hidden');\n    modalWrapper.classList.add('visually-hidden');\n    toggleScrollLock(false); // розблокування прокрутки\n    document.removeEventListener('keydown', handleKeyPress);\n    backdrop.removeEventListener('click', handleBackdropClick);\n\n    // Видаляємо слухача події з кнопки\n    if (addBtn) {\n        addBtn.removeEventListener('click', handleAddBtnClick);\n    }\n}\n\nfunction handleAddBtnClick() {\n    toggleShoppingList(book);\n    // Видаляємо слухача події з кнопки після кліку\n    if (addBtn) {\n        addBtn.removeEventListener('click', handleAddBtnClick);\n    }\n}\n\n//Oновлення списку покупок, додавання або видалення книги залежно від її наявності у списку.\nfunction toggleShoppingList(book) {\n    const shoppingList = getFromLocalStorage();\n    const bookIndex = shoppingList.findIndex(item => item.id === book._id);\n\n    if (bookIndex !== -1) {\n        // Книга вже у shopping list, прибираємо книгу\n        shoppingList.splice(bookIndex, 1);\n    } else {\n        // Додаємо книгу у shopping list\n        shoppingList.push({\n            id: book._id,\n            image: book.book_image,\n            title: book.title,\n            author: book.author,\n            description: book.description,\n            buy_links: book.buy_links,\n            // Перевірити за макетом що ще додати\n        });\n    }\n    // Зберегаємо оновлений shopping list у localStorage\n    saveToLocalStorage(shoppingList);\n    updateTextBtn(book);\n};\n\n\nfunction getFromLocalStorage() {\n    const shoppingListString = localStorage.getItem(KEY_LOCAL_STORAGE);\n    return shoppingListString ? JSON.parse(shoppingListString) : [];\n};\n\nfunction saveToLocalStorage(shoppingList) {\n    localStorage.setItem(KEY_LOCAL_STORAGE, JSON.stringify(shoppingList));\n};\n\n\nfunction updateTextBtn(book) {\n    const textBtn = document.querySelector('#js-book-modal-btn');\n    console.log('updateTextBtn addBtn', textBtn);\n    const buyMessage = document.querySelector('.book-modal-buy');\n    if (textBtn && buyMessage) {\n        const isInShoppingList = isInShoppingList(book);\n        //console.log('updateTextBtn isInShoppingList', isInShoppingList);\n        if (isInShoppingList) {\n            textBtn.textContent = 'Remove from the shopping list';\n            buyMessage.style.display = 'block'; // Відображаємо повідомлення\n        } else {\n            textBtn.textContent = 'Add to shopping list';\n            buyMessage.style.display = 'none'; // Приховуємо повідомлення\n        }\n    }\n};\n\nfunction isInShoppingList(book) {\n    const shoppingList = getFromLocalStorage();\n    return shoppingList.some(item => item.id === book._id);\n}\n\n","const goTopBtn = document.querySelector(\".back-to-top\");\nconsole.log(goTop)\nwindow.addEventListener(\"scroll\", trackScroll);\ngoTopBtn.addEventListener(\"click\", goTop);\n\nfunction trackScroll() {\n\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    goTopBtn.classList.add(\"back-to-top--show\");\n  } else {\n    goTopBtn.classList.remove(\"back-to-top--show\");\n  }\n}\n\nfunction goTop() {\n\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -25);\n    setTimeout(goTop, 0); \n  }\n}"],"names":["BASE_URL","API_OPTIONS","fetchBookList","option","select","response","list","error","fetchBookById","bookId","book","booksApi","ctgList","api","markup","list_name","refs","getRefs","highlightMenuActiveCategory","event","li","showSelectedCategoryBooks","selectedCategory","showMoreCategoryBooks","category","amazon","amazon2x","applebooks","applebooks2x","KEY_LOCAL_STORAGE","bookCollectionWrapper","backdrop","modalWrapper","addBtn","bookElement","markupModalWindow","icon","closeBtn","closeModaWindow","toggleScrollLock","handleKeyPress","handleBackdropClick","lock","handleAddBtnClick","toggleShoppingList","shoppingList","getFromLocalStorage","bookIndex","item","saveToLocalStorage","updateTextBtn","shoppingListString","textBtn","buyMessage","isInShoppingList","goTopBtn","goTop","trackScroll","scrolled","coords"],"mappings":"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"}